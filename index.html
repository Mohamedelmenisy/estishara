<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نور | استشارات نفسية أونلاين مع مختصين مرخصين</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ar.js"></script>
    <style>
        :root {
            --primary: #2A6B7E;
            --primary-light: #4A90E2;
            --secondary: #5CB8B2;
            --accent: #FF9F4A;
            --light: #F8F9FA;
            --neutral: #F5EFE7;
            --dark: #2C3E50;
            --text: #333333;
            --text-light: #666666;
            --border: #E0E6ED;
            --success: #4CAF50;
            --warning: #FF9800;
            --shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            --radius: 16px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --header-height: 80px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            color: var(--text);
            background-color: #ffffff;
            line-height: 1.6;
            direction: rtl;
            text-align: right;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.3;
            color: var(--dark);
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .section {
            padding: 100px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .section-title h2 {
            font-size: 40px;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 50%;
            transform: translateX(50%);
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
            border-radius: 2px;
        }
        
        .section-title p {
            color: var(--text-light);
            max-width: 700px;
            margin: 20px auto 0;
            font-size: 18px;
        }
        
        /* Header */
        header {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            height: var(--header-height);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: var(--header-height);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logo-icon i {
            color: white;
            font-size: 20px;
        }
        
        .logo-text {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary);
            letter-spacing: -0.5px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 35px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--text);
            font-weight: 600;
            font-size: 16px;
            transition: var(--transition);
            padding: 8px 0;
            position: relative;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: var(--transition);
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 14px 32px;
            border-radius: var(--radius);
            font-weight: 700;
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            font-size: 16px;
            gap: 10px;
            font-family: 'Tajawal', sans-serif;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 6px 20px rgba(42, 107, 126, 0.2);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(42, 107, 126, 0.3);
        }
        
        .btn-secondary {
            background-color: white;
            color: var(--primary);
            border: 2px solid var(--border);
        }
        
        .btn-secondary:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }
        
        .btn-small {
            padding: 10px 22px;
            font-size: 15px;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--dark);
            cursor: pointer;
        }
        
        /* Hero Section - IMPROVED */
        .hero {
            padding-top: 160px;
            padding-bottom: 100px;
            background: linear-gradient(135deg, #f8fdff 0%, #f0f9ff 100%);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -100px;
            left: -100px;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(92, 184, 178, 0.1) 0%, rgba(92, 184, 178, 0) 70%);
            border-radius: 50%;
        }
        
        .hero::after {
            content: '';
            position: absolute;
            bottom: -100px;
            right: -100px;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(74, 144, 226, 0.1) 0%, rgba(74, 144, 226, 0) 70%);
            border-radius: 50%;
        }
        
        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        
        .hero-text h1 {
            font-size: 48px;
            margin-bottom: 15px;
            line-height: 1.2;
            color: var(--dark);
        }
        
        .hero-subtitle {
            font-size: 22px;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .hero-text p {
            font-size: 18px;
            color: var(--text-light);
            margin-bottom: 25px;
            max-width: 500px;
        }
        
        .hero-bullets {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 35px;
        }
        
        .hero-bullet {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
        }
        
        .hero-bullet i {
            color: var(--secondary);
            font-size: 14px;
        }
        
        .hero-actions {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }
        
        .trust-indicators {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .trust-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .trust-icon {
            width: 24px;
            height: 24px;
            background-color: rgba(92, 184, 178, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .trust-icon i {
            color: var(--secondary);
            font-size: 12px;
        }
        
        .trust-text {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }
        
        .hero-visual {
            position: relative;
        }
        
        .illustration-container {
            position: relative;
        }
        
        .main-illustration {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, #e8f4fc 0%, #f1f8ff 100%);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        /* Mini Assessment - NEW SECTION */
        .assessment-section {
            background-color: white;
            padding: 80px 0;
            position: relative;
        }
        
        .assessment-container {
            background: linear-gradient(135deg, #F5EFE7 0%, #F8F9FA 100%);
            border-radius: var(--radius);
            padding: 60px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .assessment-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .assessment-header h2 {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .assessment-header p {
            color: var(--text-light);
            font-size: 18px;
        }
        
        .assessment-form {
            margin-bottom: 40px;
        }
        
        .assessment-question {
            margin-bottom: 40px;
        }
        
        .assessment-question h3 {
            font-size: 22px;
            margin-bottom: 20px;
            color: var(--dark);
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .option-card {
            padding: 20px;
            background-color: white;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        
        .option-card:hover {
            border-color: var(--secondary);
            background-color: rgba(92, 184, 178, 0.05);
        }
        
        .option-card.selected {
            border-color: var(--primary);
            background-color: rgba(42, 107, 126, 0.05);
            box-shadow: 0 5px 15px rgba(42, 107, 126, 0.1);
        }
        
        .option-card i {
            font-size: 24px;
            color: var(--secondary);
            margin-bottom: 10px;
        }
        
        .assessment-result {
            display: none;
            background-color: white;
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow);
            border-top: 6px solid var(--primary);
            margin-top: 30px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .result-header i {
            font-size: 32px;
            color: var(--primary);
        }
        
        .result-header h3 {
            font-size: 26px;
            color: var(--dark);
        }
        
        .result-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 30px;
        }
        
        .recommended-service {
            background-color: rgba(92, 184, 178, 0.1);
            border-radius: var(--radius);
            padding: 25px;
        }
        
        .recommended-service h4 {
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .recommended-specialist {
            background-color: rgba(74, 144, 226, 0.1);
            border-radius: var(--radius);
            padding: 25px;
        }
        
        .recommended-specialist h4 {
            color: var(--primary-light);
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .specialist-match {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .specialist-match-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--secondary) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .specialist-match-avatar i {
            color: white;
            font-size: 24px;
        }
        
        .result-actions {
            text-align: center;
        }
        
        /* Services Section - WITH HOVER EFFECTS */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .service-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 35px 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }
        
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .service-card.highlighted {
            animation: pulseHighlight 2s infinite;
        }
        
        @keyframes pulseHighlight {
            0% { box-shadow: 0 0 0 0 rgba(42, 107, 126, 0.2); }
            70% { box-shadow: 0 0 0 15px rgba(42, 107, 126, 0); }
            100% { box-shadow: 0 0 0 0 rgba(42, 107, 126, 0); }
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--secondary) 0%, var(--primary-light) 100%);
        }
        
        .service-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, rgba(92, 184, 178, 0.1) 0%, rgba(74, 144, 226, 0.1) 100%);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
        }
        
        .service-icon i {
            font-size: 32px;
            color: var(--primary);
        }
        
        .service-card h3 {
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .service-card p {
            color: var(--text-light);
            margin-bottom: 20px;
            font-size: 16px;
        }
        
        .service-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }
        
        .service-price {
            font-size: 22px;
            font-weight: 800;
            color: var(--primary);
        }
        
        .service-sessions {
            color: var(--text-light);
            font-size: 14px;
        }
        
        /* Booking Stepper - IMPROVED */
        .booking-stepper {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: 50px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .stepper-connector {
            position: absolute;
            top: 25px;
            right: 0;
            left: 0;
            height: 3px;
            background-color: var(--border);
            z-index: 1;
        }
        
        .stepper-connector-progress {
            position: absolute;
            top: 25px;
            right: 0;
            height: 3px;
            background-color: var(--primary);
            z-index: 2;
            transition: var(--transition);
        }
        
        .stepper-step {
            position: relative;
            z-index: 3;
            text-align: center;
            flex: 1;
        }
        
        .step-circle {
            width: 50px;
            height: 50px;
            background-color: white;
            border: 3px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin: 0 auto 15px;
            transition: var(--transition);
        }
        
        .stepper-step.active .step-circle {
            border-color: var(--primary);
            background-color: var(--primary);
            color: white;
        }
        
        .stepper-step.completed .step-circle {
            border-color: var(--primary);
            background-color: var(--primary);
            color: white;
        }
        
        .stepper-step.completed .step-circle::after {
            content: '✓';
            font-size: 20px;
        }
        
        .step-label {
            font-weight: 600;
            color: var(--text-light);
            font-size: 15px;
        }
        
        .stepper-step.active .step-label {
            color: var(--primary);
        }
        
        .booking-steps-container {
            display: none;
        }
        
        .booking-step.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .time-slot.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: var(--light);
        }
        
        .time-slot.disabled:hover {
            border-color: var(--border);
            background-color: var(--light);
        }
        
        /* Specialist Cards - IMPROVED */
        .specialists-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
        }
        
        .specialist-card {
            background-color: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--border);
        }
        
        .specialist-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .specialist-header {
            height: 180px;
            background: linear-gradient(135deg, #e8f4fc 0%, #f1f8ff 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .specialist-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 5px solid white;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .specialist-avatar i {
            font-size: 50px;
            color: white;
        }
        
        .specialist-rating {
            position: absolute;
            bottom: 15px;
            left: 15px;
            background-color: white;
            padding: 5px 12px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            font-weight: 600;
        }
        
        .specialist-rating i {
            color: #FFC107;
        }
        
        .specialist-sessions {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: white;
            padding: 5px 12px;
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .specialist-body {
            padding: 30px;
        }
        
        .specialist-name {
            font-size: 22px;
            margin-bottom: 5px;
        }
        
        .specialist-title {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .specialist-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 14px;
            color: var(--text-light);
        }
        
        .specialist-expertise {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 25px;
        }
        
        .expertise-tag {
            background-color: rgba(92, 184, 178, 0.1);
            color: var(--secondary);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }
        
        .availability {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .available {
            color: var(--success);
        }
        
        .specialist-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-profile {
            background-color: var(--light);
            color: var(--text);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Tajawal', sans-serif;
            font-weight: 600;
            transition: var(--transition);
            flex: 1;
        }
        
        .btn-profile:hover {
            background-color: var(--border);
        }
        
        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal {
            background-color: white;
            border-radius: var(--radius);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 25px 30px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            font-size: 24px;
            color: var(--dark);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light);
            transition: var(--transition);
        }
        
        .modal-close:hover {
            color: var(--primary);
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .modal-section {
            margin-bottom: 30px;
        }
        
        .modal-section h4 {
            font-size: 18px;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-section h4 i {
            font-size: 16px;
        }
        
        /* Pre-session Chat - NEW FEATURE */
        .pre-session-chat {
            background-color: var(--light);
            border-radius: var(--radius);
            padding: 40px;
            margin: 60px 0;
            text-align: center;
            border: 2px dashed var(--border);
        }
        
        .pre-session-chat h3 {
            font-size: 28px;
            margin-bottom: 15px;
            color: var(--dark);
        }
        
        .pre-session-chat p {
            color: var(--text-light);
            margin-bottom: 25px;
            max-width: 600px;
            margin-right: auto;
            margin-left: auto;
        }
        
        .chat-textarea {
            width: 100%;
            max-width: 600px;
            min-height: 120px;
            padding: 20px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Tajawal', sans-serif;
            font-size: 16px;
            resize: vertical;
            margin-bottom: 20px;
            transition: var(--transition);
        }
        
        .chat-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .chat-note {
            font-size: 14px;
            color: var(--text-light);
            font-style: italic;
        }
        
        /* Toast Messages */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background-color: white;
            padding: 20px 25px;
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 3000;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        .toast-icon {
            width: 40px;
            height: 40px;
            background-color: rgba(76, 175, 80, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .toast-icon i {
            color: var(--success);
            font-size: 18px;
        }
        
        /* Skeleton Loading */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: var(--radius);
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Admin Dashboard - DEMO VERSION */
        .admin-demo-note {
            background-color: rgba(255, 159, 74, 0.1);
            border: 2px solid var(--accent);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .admin-demo-note h4 {
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 80px 0 30px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }
        
        .footer-column h3 {
            color: white;
            font-size: 22px;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 15px;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 50px;
            height: 3px;
            background-color: var(--secondary);
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 15px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .footer-links a:hover {
            color: white;
            padding-right: 5px;
        }
        
        .footer-links a i {
            font-size: 12px;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        .social-link {
            width: 45px;
            height: 45px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }
        
        .social-link:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
            font-size: 15px;
        }
        
        /* Responsive */
        @media (max-width: 1100px) {
            .hero-content {
                grid-template-columns: 1fr;
                gap: 50px;
            }
            
            .hero-text h1 {
                font-size: 42px;
            }
            
            .result-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
            
            nav {
                position: fixed;
                top: var(--header-height);
                right: -100%;
                width: 80%;
                height: calc(100vh - var(--header-height));
                background-color: white;
                box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);
                transition: var(--transition);
                padding: 30px;
                z-index: 999;
            }
            
            nav.active {
                right: 0;
            }
            
            nav ul {
                flex-direction: column;
                gap: 20px;
            }
            
            .hero-text h1 {
                font-size: 36px;
            }
            
            .hero-subtitle {
                font-size: 20px;
            }
            
            .section {
                padding: 70px 0;
            }
            
            .section-title h2 {
                font-size: 34px;
            }
            
            .assessment-container {
                padding: 40px 25px;
            }
            
            .assessment-header h2 {
                font-size: 30px;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .booking-stepper {
                flex-direction: column;
                gap: 30px;
                align-items: flex-start;
            }
            
            .stepper-connector,
            .stepper-connector-progress {
                display: none;
            }
            
            .stepper-step {
                display: flex;
                align-items: center;
                gap: 15px;
                text-align: right;
                width: 100%;
            }
            
            .step-circle {
                margin: 0;
                width: 40px;
                height: 40px;
                flex-shrink: 0;
            }
            
            .specialist-actions {
                flex-direction: column;
            }
            
            .pre-session-chat {
                padding: 30px 20px;
            }
        }
        
        @media (max-width: 576px) {
            .hero-text h1 {
                font-size: 32px;
            }
            
            .hero-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .services-grid,
            .specialists-grid {
                grid-template-columns: 1fr;
            }
            
            .assessment-container {
                padding: 30px 20px;
            }
            
            .assessment-header h2 {
                font-size: 26px;
            }
            
            .modal {
                max-height: 80vh;
            }
            
            .modal-header,
            .modal-body {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="logo-text">نور</div>
                </a>
                
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                
                <nav id="mainNav">
                    <ul>
                        <li><a href="#home" class="active">الرئيسية</a></li>
                        <li><a href="#assessment">اكتشف الأنسب لك</a></li>
                        <li><a href="#services">خدماتنا</a></li>
                        <li><a href="#specialists">الأخصائيون</a></li>
                        <li><a href="#booking">احجز جلستك</a></li>
                    </ul>
                </nav>
                
                <div class="header-actions">
                    <a href="#" class="btn btn-secondary btn-small">تسجيل الدخول</a>
                    <a href="#booking" class="btn btn-primary btn-small">ابدأ رحلتك</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section - IMPROVED -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1>دعم نفسي متخصص متاح لك الآن</h1>
                    <div class="hero-subtitle">استشارات أونلاين مع مختصين مرخصين</div>
                    <p>لا تحتاج أن تكون في حالة صعبة لتستحق الدعم. الصحة النفسية رحلة نبدأها معًا بخطوة.</p>
                    
                    <div class="hero-bullets">
                        <div class="hero-bullet">
                            <i class="fas fa-check-circle"></i>
                            <span>بدون التزام طويل الأمد</span>
                        </div>
                        <div class="hero-bullet">
                            <i class="fas fa-check-circle"></i>
                            <span>جلسة واحدة كافية للبدء</span>
                        </div>
                        <div class="hero-bullet">
                            <i class="fas fa-check-circle"></i>
                            <span>خصوصية تامة وأمان مشفّر</span>
                        </div>
                    </div>
                    
                    <div class="hero-actions">
                        <a href="#assessment" class="btn btn-primary">
                            <i class="fas fa-compass"></i>
                            اكتشف الأنسب لك
                        </a>
                        <a href="#specialists" class="btn btn-secondary">
                            <i class="fas fa-user-md"></i>
                            تصفح الأخصائيين
                        </a>
                    </div>
                    
                    <div class="trust-indicators">
                        <div class="trust-item">
                            <div class="trust-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="trust-text">جلسات مشفرة وآمنة</div>
                        </div>
                        <div class="trust-item">
                            <div class="trust-icon">
                                <i class="fas fa-user-md"></i>
                            </div>
                            <div class="trust-text">أخصائيون مرخصون ومعتمدون</div>
                        </div>
                        <div class="trust-item">
                            <div class="trust-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="trust-text">مرونة في المواعيد 24/7</div>
                        </div>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="illustration-container">
                        <div class="main-illustration">
                            <div class="illustration-content">
                                <i class="fas fa-hands-helping" style="font-size: 100px; color: var(--primary); opacity: 0.8; margin-bottom: 20px;"></i>
                                <h3 style="font-size: 22px; color: var(--dark);">نحن هنا لنساندك</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mini Assessment Section - NEW -->
    <section class="assessment-section" id="assessment">
        <div class="container">
            <div class="assessment-container">
                <div class="assessment-header">
                    <h2>خلينا نساعدك تختار الجلسة المناسبة ليك</h2>
                    <p>٣ أسئلة بسيطة عشان نوصل للدعم الأنسب لحالتك</p>
                </div>
                
                <div class="assessment-form" id="assessmentForm">
                    <!-- Question 1 -->
                    <div class="assessment-question" id="question1">
                        <h3>بتحس بإيه الفترة دي؟</h3>
                        <div class="options-grid">
                            <div class="option-card" data-value="stress">
                                <i class="fas fa-weight-hanging"></i>
                                <div>توتر وضغط</div>
                            </div>
                            <div class="option-card" data-value="sadness">
                                <i class="fas fa-cloud"></i>
                                <div>حزن واكتئاب</div>
                            </div>
                            <div class="option-card" data-value="anxiety">
                                <i class="fas fa-heartbeat"></i>
                                <div>قلق وخوف</div>
                            </div>
                            <div class="option-card" data-value="relationship">
                                <i class="fas fa-heart"></i>
                                <div>مشكلات علاقات</div>
                            </div>
                            <div class="option-card" data-value="growth">
                                <i class="fas fa-seedling"></i>
                                <div>تطوير ذاتي</div>
                            </div>
                            <div class="option-card" data-value="unsure">
                                <i class="fas fa-question-circle"></i>
                                <div>مش متأكد</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 2 -->
                    <div class="assessment-question" id="question2" style="display: none;">
                        <h3>المشكلة ليها قد إيه على حياتك؟</h3>
                        <div class="options-grid">
                            <div class="option-card" data-value="mild">
                                <i class="fas fa-smile"></i>
                                <div>بسيطة - بتأثر على أوقات معينة</div>
                            </div>
                            <div class="option-card" data-value="moderate">
                                <i class="fas fa-meh"></i>
                                <div>متوسطة - بتأثر على يومياتي</div>
                            </div>
                            <div class="option-card" data-value="severe">
                                <i class="fas fa-frown"></i>
                                <div>كبيرة - بتعيق حياتي الطبيعية</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Question 3 -->
                    <div class="assessment-question" id="question3" style="display: none;">
                        <h3>تحب الجلسة تكون مع أخصائي/ة؟</h3>
                        <div class="options-grid">
                            <div class="option-card" data-value="female">
                                <i class="fas fa-female"></i>
                                <div>أخصائية</div>
                            </div>
                            <div class="option-card" data-value="male">
                                <i class="fas fa-male"></i>
                                <div>أخصائي</div>
                            </div>
                            <div class="option-card" data-value="any">
                                <i class="fas fa-users"></i>
                                <div>لا يهم</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="assessment-actions">
                        <button class="btn btn-secondary" id="prevBtn" style="display: none;">
                            <i class="fas fa-arrow-right"></i>
                            السؤال السابق
                        </button>
                        <button class="btn btn-primary" id="nextBtn">
                            السؤال التالي
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Assessment Result -->
                <div class="assessment-result" id="assessmentResult">
                    <div class="result-header">
                        <i class="fas fa-star"></i>
                        <h3>ده الأنسب ليك!</h3>
                    </div>
                    
                    <div class="result-content">
                        <div class="recommended-service">
                            <h4>الخدمة المقترحة</h4>
                            <h3 id="recommendedService">العلاج الفردي</h3>
                            <p id="serviceDescription">جلسات علاجية فردية مع أخصائيين مرخصين لمساعدتك في التغلب على التحديات النفسية وتحسين جودة حياتك.</p>
                            <div class="service-meta">
                                <div class="service-price" id="servicePrice">240 - 400 ر.س</div>
                                <div class="service-sessions" id="serviceDuration">جلسة 60 دقيقة</div>
                            </div>
                        </div>
                        
                        <div class="recommended-specialist">
                            <h4>الأخصائي المقترح</h4>
                            <div class="specialist-match">
                                <div class="specialist-match-avatar">
                                    <i class="fas fa-user-md"></i>
                                </div>
                                <div>
                                    <h3 id="recommendedSpecialist">د. سارة العمراني</h3>
                                    <p id="specialistTitle">أخصائية علاج نفسي فردي وعائلي</p>
                                </div>
                            </div>
                            <p id="specialistMatchReason">متخصصة في حالتك ولها خبرة أكثر من 15 سنة في مجال العلاج النفسي.</p>
                        </div>
                    </div>
                    
                    <div class="result-actions">
                        <a href="#booking" class="btn btn-primary" style="padding: 16px 40px; font-size: 18px;">
                            <i class="fas fa-calendar-check"></i>
                            احجز جلستك الآن
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pre-session Chat - NEW FEATURE -->
    <section class="pre-session-chat">
        <div class="container">
            <h3>تحب تكتب سطرين عن مشكلتك قبل الجلسة؟</h3>
            <p>(اختياري) - كتابة بسيطة تساعد الأخصائي يفهم احتياجاتك بشكل أفضل</p>
            
            <textarea class="chat-textarea" placeholder="اكتب هنا ما يدور في ذهنك... (سيتم إرساله للأخصائي قبل الجلسة)"></textarea>
            
            <p class="chat-note">هذا النص خاص بينك وبين الأخصائي فقط، وسيتم حذفه بعد الجلسة.</p>
        </div>
    </section>

    <!-- Services Section - WITH HIGHLIGHTING -->
    <section class="section" id="services">
        <div class="container">
            <div class="section-title">
                <h2>خدماتنا المتخصصة</h2>
                <p>نقدم مجموعة متكاملة من خدمات الصحة النفسية لتلبية احتياجاتك المختلفة</p>
            </div>
            
            <div class="services-grid">
                <!-- Services will be dynamically highlighted based on assessment -->
            </div>
        </div>
    </section>

    <!-- Specialists Section - IMPROVED -->
    <section class="section" id="specialists">
        <div class="container">
            <div class="section-title">
                <h2>أخصائيو نور المعتمدون</h2>
                <p>تعرف على فريقنا من الأخصائيين النفسيين المرخصين والمؤهلين</p>
            </div>
            
            <div class="specialists-grid">
                <!-- Specialist cards will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Booking Section - WITH STEPPER -->
    <section class="section booking-section" id="booking">
        <div class="container">
            <div class="section-title">
                <h2>احجز جلستك الآن</h2>
                <p>عملية سهلة ومباشرة للوصول إلى الدعم النفسي الذي تحتاجه</p>
            </div>
            
            <!-- Booking Stepper -->
            <div class="booking-stepper">
                <div class="stepper-connector"></div>
                <div class="stepper-connector-progress" id="stepperProgress"></div>
                
                <div class="stepper-step active" id="step1">
                    <div class="step-circle">١</div>
                    <div class="step-label">اختر الخدمة</div>
                </div>
                
                <div class="stepper-step" id="step2">
                    <div class="step-circle">٢</div>
                    <div class="step-label">اختر الأخصائي</div>
                </div>
                
                <div class="stepper-step" id="step3">
                    <div class="step-circle">٣</div>
                    <div class="step-label">اختر الموعد</div>
                </div>
                
                <div class="stepper-step" id="step4">
                    <div class="step-circle">٤</div>
                    <div class="step-label">تأكيد الحجز</div>
                </div>
            </div>
            
            <!-- Booking Steps -->
            <div class="booking-steps-container">
                <!-- Step 1: Choose Service -->
                <div class="booking-step active" id="bookingStep1">
                    <h3 style="font-size: 28px; margin-bottom: 30px;">اختر نوع الجلسة المناسبة لك</h3>
                    <div class="services-grid" id="bookingServices">
                        <!-- Services for booking -->
                    </div>
                    
                    <div style="text-align: center; margin-top: 40px;">
                        <button class="btn btn-primary" id="nextToStep2">
                            التالي: اختر الأخصائي
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 2: Choose Specialist -->
                <div class="booking-step" id="bookingStep2">
                    <h3 style="font-size: 28px; margin-bottom: 30px;">اختر الأخصائي المناسب لك</h3>
                    <div class="specialists-grid" id="bookingSpecialists">
                        <!-- Specialists for booking -->
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin-top: 40px;">
                        <button class="btn btn-secondary" id="backToStep1">
                            <i class="fas fa-arrow-right"></i>
                            رجوع: اختر الخدمة
                        </button>
                        <button class="btn btn-primary" id="nextToStep3">
                            التالي: اختر الموعد
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 3: Choose Date & Time -->
                <div class="booking-step" id="bookingStep3">
                    <h3 style="font-size: 28px; margin-bottom: 30px;">حدد الموعد المناسب لك</h3>
                    
                    <div style="background: white; padding: 30px; border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 30px;">
                        <div id="bookingCalendar"></div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <h4 style="margin-bottom: 15px;">اختر الوقت المناسب:</h4>
                        <div class="time-slots" id="timeSlots">
                            <!-- Time slots will be generated -->
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; margin-top: 40px;">
                        <button class="btn btn-secondary" id="backToStep2">
                            <i class="fas fa-arrow-right"></i>
                            رجوع: اختر الأخصائي
                        </button>
                        <button class="btn btn-primary" id="nextToStep4">
                            التالي: تأكيد الحجز
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 4: Confirm Booking -->
                <div class="booking-step" id="bookingStep4">
                    <h3 style="font-size: 28px; margin-bottom: 30px;">تأكيد حجز الجلسة</h3>
                    
                    <div style="background: white; padding: 40px; border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 40px;">
                        <h4 style="color: var(--primary); margin-bottom: 25px; font-size: 22px;">ملخص الحجز</h4>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 30px;">
                            <div>
                                <div style="font-weight: 600; margin-bottom: 10px; color: var(--text-light);">الخدمة:</div>
                                <div id="confirmService" style="font-size: 18px; font-weight: 600;">-</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; margin-bottom: 10px; color: var(--text-light);">الأخصائي:</div>
                                <div id="confirmSpecialist" style="font-size: 18px; font-weight: 600;">-</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; margin-bottom: 10px; color: var(--text-light);">التاريخ:</div>
                                <div id="confirmDate" style="font-size: 18px; font-weight: 600;">-</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; margin-bottom: 10px; color: var(--text-light);">الوقت:</div>
                                <div id="confirmTime" style="font-size: 18px; font-weight: 600;">-</div>
                            </div>
                        </div>
                        
                        <div style="border-top: 2px solid var(--border); padding-top: 25px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 5px; color: var(--text-light);">المجموع:</div>
                                    <div id="confirmPrice" style="font-size: 28px; font-weight: 800; color: var(--primary);">-</div>
                                </div>
                                
                                <button class="btn btn-primary" id="confirmBookingBtn" style="padding: 16px 40px; font-size: 18px;">
                                    <i class="fas fa-lock"></i>
                                    تأكيد الحجز والدفع
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div style="text-align: center;">
                        <button class="btn btn-secondary" id="backToStep3">
                            <i class="fas fa-arrow-right"></i>
                            رجوع: اختر الموعد
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Dashboard Preview - DEMO VERSION -->
    <section class="section admin-section">
        <div class="container">
            <div class="section-title">
                <h2>منصة إدارة متكاملة</h2>
                <p>أدوات متقدمة لضمان جودة الخدمة ومتابعة الأداء</p>
            </div>
            
            <div class="admin-demo-note">
                <h4><i class="fas fa-info-circle"></i> نموذج توضيحي لواجهة الإدارة</h4>
                <p>البيانات المعروضة لأغراض العرض التوضيحي فقط. جميع البيانات الحقيقية مجهولة المصدر وآمنة.</p>
            </div>
            
            <!-- Admin content remains but with the note above -->
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>نور</h3>
                    <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 25px;">منصة عربية رائدة في تقديم الاستشارات النفسية أونلاين مع أخصائيين مرخصين ومعتمدين.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>روابط سريعة</h3>
                    <ul class="footer-links">
                        <li><a href="#home"><i class="fas fa-chevron-left"></i> الرئيسية</a></li>
                        <li><a href="#assessment"><i class="fas fa-chevron-left"></i> اكتشف الأنسب لك</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-left"></i> خدماتنا</a></li>
                        <li><a href="#specialists"><i class="fas fa-chevron-left"></i> الأخصائيون</a></li>
                        <li><a href="#booking"><i class="fas fa-chevron-left"></i> احجز جلستك</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>الدعم والمساعدة</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-chevron-left"></i> الأسئلة الشائعة</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> سياسة الخصوصية</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> شروط الاستخدام</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> اتصل بنا</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> المساعدة الفنية</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>اتصل بنا</h3>
                    <ul class="footer-links">
                        <li><a href="tel:+966112345678"><i class="fas fa-phone"></i> 966+ 11 234 5678</a></li>
                        <li><a href="mailto:info@noor.com"><i class="fas fa-envelope"></i> info@noor.com</a></li>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> الرياض، المملكة العربية السعودية</a></li>
                        <li><a href="#"><i class="fas fa-clock"></i> متاحون 24/7 للدعم</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>© 2023 منصة نور للصحة النفسية. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <!-- Specialist Modal -->
    <div class="modal-overlay" id="specialistModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalSpecialistName">د. سارة العمراني</h3>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h4><i class="fas fa-graduation-cap"></i> نبذة عن الأخصائي</h4>
                    <p id="modalBio">أخصائية علاج نفسي مع أكثر من 15 سنة خبرة في العلاج الفردي والعائلي. حاصلة على دكتوراه في علم النفس الإكلينيكي من جامعة الملك سعود، ومعتمدة من الهيئة السعودية للتخصصات الصحية. تتخصص في علاج القلق، الاكتئاب، وإدارة الضغوط.</p>
                </div>
                
                <div class="modal-section">
                    <h4><i class="fas fa-hands-helping"></i> أسلوب العلاج</h4>
                    <p id="modalApproach">أعمل من منظور العلاج المعرفي السلوكي (CBT) مع دمج عناصر من العلاج القائم على القبول والالتزام (ACT). أركز على بناء علاقة علاجية قائمة على الثقة والتعاون، وأؤمن بأن كل شخص لديه القدرة على التغيير والنمو.</p>
                </div>
                
                <div class="modal-section">
                    <h4><i class="fas fa-users"></i> لمن تناسبه الجلسات</h4>
                    <ul style="padding-right: 20px; color: var(--text-light);">
                        <li id="modalFor1">البالغين الذين يعانون من القلق أو الاكتئاب</li>
                        <li id="modalFor2">الأشخاص الذين يواجهون صعوبات في العلاقات</li>
                        <li id="modalFor3">من يبحثون عن تطوير الذات وبناء المرونة النفسية</li>
                        <li id="modalFor4">الأفراد الذين يمرون بفترات انتقالية في الحياة</li>
                    </ul>
                </div>
                
                <div class="modal-section">
                    <h4><i class="fas fa-language"></i> لغات التواصل</h4>
                    <div style="display: flex; gap: 10px;">
                        <span style="background-color: rgba(92, 184, 178, 0.1); color: var(--secondary); padding: 8px 16px; border-radius: 20px;">العربية</span>
                        <span style="background-color: rgba(92, 184, 178, 0.1); color: var(--secondary); padding: 8px 16px; border-radius: 20px;">الإنجليزية</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Message -->
    <div class="toast" id="toast">
        <div class="toast-icon">
            <i class="fas fa-check"></i>
        </div>
        <div>
            <div style="font-weight: 600; margin-bottom: 5px;" id="toastTitle">تم الحجز بنجاح!</div>
            <div style="font-size: 14px; color: var(--text-light);" id="toastMessage">ستصلك رسالة تأكيد على بريدك الإلكتروني</div>
        </div>
    </div>

    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNav = document.getElementById('mainNav');
        
        mobileMenuBtn.addEventListener('click', () => {
            mainNav.classList.toggle('active');
            mobileMenuBtn.innerHTML = mainNav.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                mainNav.classList.remove('active');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            });
        });
        
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 90,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // ==================== MINI ASSESSMENT ====================
        let assessmentAnswers = {};
        let currentQuestion = 1;
        
        // Initialize assessment options
        document.querySelectorAll('.option-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove selection from all cards in current question
                const questionId = `question${currentQuestion}`;
                document.querySelectorAll(`#${questionId} .option-card`).forEach(c => {
                    c.classList.remove('selected');
                });
                
                // Select current card
                this.classList.add('selected');
                
                // Store answer
                const questionKey = `q${currentQuestion}`;
                assessmentAnswers[questionKey] = this.getAttribute('data-value');
            });
        });
        
        // Next button in assessment
        document.getElementById('nextBtn').addEventListener('click', function() {
            if (!assessmentAnswers[`q${currentQuestion}`]) {
                showToast('يرجى اختيار إجابة', 'info');
                return;
            }
            
            if (currentQuestion < 3) {
                // Hide current question
                document.getElementById(`question${currentQuestion}`).style.display = 'none';
                currentQuestion++;
                
                // Show next question
                document.getElementById(`question${currentQuestion}`).style.display = 'block';
                
                // Show previous button
                document.getElementById('prevBtn').style.display = 'inline-flex';
                
                // Update next button text
                if (currentQuestion === 3) {
                    this.innerHTML = 'اظهر النتيجة <i class="fas fa-arrow-left"></i>';
                } else {
                    this.innerHTML = 'السؤال التالي <i class="fas fa-arrow-left"></i>';
                }
            } else {
                // Show result
                showAssessmentResult();
            }
        });
        
        // Previous button in assessment
        document.getElementById('prevBtn').addEventListener('click', function() {
            // Hide current question
            document.getElementById(`question${currentQuestion}`).style.display = 'none';
            currentQuestion--;
            
            // Show previous question
            document.getElementById(`question${currentQuestion}`).style.display = 'block';
            
            // Hide previous button if on first question
            if (currentQuestion === 1) {
                this.style.display = 'none';
            }
            
            // Update next button text
            document.getElementById('nextBtn').innerHTML = currentQuestion === 3 
                ? 'اظهر النتيجة <i class="fas fa-arrow-left"></i>' 
                : 'السؤال التالي <i class="fas fa-arrow-left"></i>';
        });
        
        function showAssessmentResult() {
            // Hide form
            document.getElementById('assessmentForm').style.display = 'none';
            
            // Determine recommended service based on answers
            let recommendedService, serviceDescription, servicePrice, serviceDuration;
            let recommendedSpecialist, specialistTitle, specialistMatchReason;
            
            const feeling = assessmentAnswers.q1;
            const severity = assessmentAnswers.q2;
            const genderPref = assessmentAnswers.q3;
            
            // Logic for service recommendation
            if (feeling === 'stress') {
                recommendedService = 'العلاج الفردي';
                serviceDescription = 'جلسات علاجية فردية تساعدك في إدارة التوتر والضغوط اليومية باستراتيجيات عملية وفعّالة.';
                servicePrice = '240 - 400 ر.س';
                serviceDuration = 'جلسة 60 دقيقة';
            } else if (feeling === 'sadness' || feeling === 'anxiety') {
                recommendedService = 'القلق والاكتئاب';
                serviceDescription = 'برامج علاجية متخصصة لإدارة أعراض القلق والاكتئاب باستخدام أحدث الأساليب العلاجية المثبتة علميًا.';
                servicePrice = '280 - 450 ر.س';
                serviceDuration = 'جلسة 60 دقيقة';
            } else if (feeling === 'relationship') {
                recommendedService = 'استشارات الزواج';
                serviceDescription = 'تحسين التواصل وحل النزاعات في العلاقة الزوجية مع أخصائيين متخصصين في العلاقات الأسرية.';
                servicePrice = '320 - 500 ر.س';
                serviceDuration = 'جلسة 75 دقيقة';
            } else if (feeling === 'growth') {
                recommendedService = 'التنمية الشخصية';
                serviceDescription = 'جلسات مخصصة لتعزيز الثقة بالنفس، تطوير المهارات الشخصية وتحقيق الأهداف.';
                servicePrice = '200 - 350 ر.س';
                serviceDuration = 'جلسة 60 دقيقة';
            } else {
                recommendedService = 'العلاج الفردي';
                serviceDescription = 'جلسات علاجية فردية مع أخصائيين مرخصين لمساعدتك في التغلب على التحديات النفسية وتحسين جودة حياتك.';
                servicePrice = '240 - 400 ر.س';
                serviceDuration = 'جلسة 60 دقيقة';
            }
            
            // Logic for specialist recommendation
            if (genderPref === 'female') {
                recommendedSpecialist = 'د. سارة العمراني';
                specialistTitle = 'أخصائية علاج نفسي فردي وعائلي';
                specialistMatchReason = 'متخصصة في حالتك ولها خبرة أكثر من 15 سنة في مجال العلاج النفسي.';
            } else if (genderPref === 'male') {
                recommendedSpecialist = 'د. خالد الحربي';
                specialistTitle = 'أخصائي علاج القلق والاكتئاب';
                specialistMatchReason = 'متخصص في حالتك ولديه خبرة 12 سنة في علاج القلق والاكتئاب.';
            } else {
                recommendedSpecialist = 'د. فاطمة الزهراني';
                specialistTitle = 'أخصائية استشارات زواج وأسرة';
                specialistMatchReason = 'مناسبة لحالتك ولها خبرة 10 سنوات في العلاج النفسي.';
            }
            
            // Update result elements
            document.getElementById('recommendedService').textContent = recommendedService;
            document.getElementById('serviceDescription').textContent = serviceDescription;
            document.getElementById('servicePrice').textContent = servicePrice;
            document.getElementById('serviceDuration').textContent = serviceDuration;
            document.getElementById('recommendedSpecialist').textContent = recommendedSpecialist;
            document.getElementById('specialistTitle').textContent = specialistTitle;
            document.getElementById('specialistMatchReason').textContent = specialistMatchReason;
            
            // Show result
            document.getElementById('assessmentResult').style.display = 'block';
            
            // Scroll to result
            document.getElementById('assessmentResult').scrollIntoView({ behavior: 'smooth' });
            
            // Highlight recommended service in services section
            setTimeout(() => {
                highlightRecommendedService(recommendedService);
            }, 500);
        }
        
        function highlightRecommendedService(serviceName) {
            // First, load services if not already loaded
            loadServices();
            
            // Wait for services to be loaded, then highlight
            setTimeout(() => {
                const serviceCards = document.querySelectorAll('.service-card');
                serviceCards.forEach(card => {
                    const cardTitle = card.querySelector('h3').textContent;
                    if (cardTitle === serviceName) {
                        card.classList.add('highlighted');
                        
                        // Scroll to services section
                        document.getElementById('services').scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            }, 300);
        }
        
        // ==================== LOAD SERVICES ====================
        function loadServices() {
            const servicesGrid = document.querySelector('.services-grid');
            const bookingServices = document.getElementById('bookingServices');
            
            if (servicesGrid.children.length > 0 && bookingServices.children.length > 0) {
                return; // Already loaded
            }
            
            const services = [
                {
                    id: 'individual',
                    name: 'العلاج الفردي',
                    description: 'جلسات علاجية فردية مع أخصائيين مرخصين لمساعدتك في التغلب على التحديات النفسية وتحسين جودة حياتك.',
                    icon: 'fa-user-friends',
                    price: '240 - 400 ر.س',
                    duration: 'جلسة 60 دقيقة'
                },
                {
                    id: 'couples',
                    name: 'استشارات الزواج',
                    description: 'تحسين التواصل وحل النزاعات في العلاقة الزوجية مع أخصائيين متخصصين في العلاقات الأسرية.',
                    icon: 'fa-heart',
                    price: '320 - 500 ر.س',
                    duration: 'جلسة 75 دقيقة'
                },
                {
                    id: 'family',
                    name: 'العلاج الأسري',
                    description: 'مساعدة العائلات على تحسين التواصل وحل المشكلات الأسرية في بيئة آمنة وداعمة.',
                    icon: 'fa-home',
                    price: '400 - 600 ر.س',
                    duration: 'جلسة 90 دقيقة'
                },
                {
                    id: 'anxiety',
                    name: 'القلق والاكتئاب',
                    description: 'برامج علاجية متخصصة لإدارة أعراض القلق والاكتئاب وتحسين الصحة النفسية العامة.',
                    icon: 'fa-cloud-sun',
                    price: '280 - 450 ر.س',
                    duration: 'جلسة 60 دقيقة'
                },
                {
                    id: 'growth',
                    name: 'التنمية الشخصية',
                    description: 'جلسات مخصصة لتعزيز الثقة بالنفس، تطوير المهارات الشخصية وتحقيق الأهداف.',
                    icon: 'fa-chart-line',
                    price: '200 - 350 ر.س',
                    duration: 'جلسة 60 دقيقة'
                },
                {
                    id: 'assessment',
                    name: 'تقييم وتشخيص',
                    description: 'تقييم شامل وتشخيص دقيق للحالة النفسية بواسطة أخصائيين في الطب النفسي.',
                    icon: 'fa-stethoscope',
                    price: '500 - 800 ر.س',
                    duration: 'جلسة 120 دقيقة'
                }
            ];
            
            // Load services for main section
            services.forEach(service => {
                const serviceCard = createServiceCard(service, false);
                servicesGrid.appendChild(serviceCard);
                
                // Also create for booking section
                const bookingServiceCard = createServiceCard(service, true);
                bookingServices.appendChild(bookingServiceCard);
            });
        }
        
        function createServiceCard(service, forBooking = false) {
            const card = document.createElement('div');
            card.className = 'service-card';
            card.setAttribute('data-service', service.id);
            
            card.innerHTML = `
                <div class="service-icon">
                    <i class="fas ${service.icon}"></i>
                </div>
                <h3>${service.name}</h3>
                <p>${service.description}</p>
                <div class="service-meta">
                    <div class="service-price">${service.price}</div>
                    <div class="service-sessions">${service.duration}</div>
                </div>
            `;
            
            if (forBooking) {
                const selectBtn = document.createElement('button');
                selectBtn.className = 'btn btn-primary';
                selectBtn.style.width = '100%';
                selectBtn.style.marginTop = '15px';
                selectBtn.innerHTML = '<i class="fas fa-check-circle"></i> اختر هذه الخدمة';
                selectBtn.addEventListener('click', () => {
                    selectServiceForBooking(service);
                });
                
                card.appendChild(selectBtn);
            }
            
            return card;
        }
        
        // ==================== LOAD SPECIALISTS ====================
        function loadSpecialists() {
            const specialistsGrid = document.querySelector('.specialists-grid');
            const bookingSpecialists = document.getElementById('bookingSpecialists');
            
            if (specialistsGrid.children.length > 0 && bookingSpecialists.children.length > 0) {
                return; // Already loaded
            }
            
            const specialists = [
                {
                    id: 'sara',
                    name: 'د. سارة العمراني',
                    title: 'أخصائية علاج نفسي فردي وعائلي',
                    experience: '١٥ سنة خبرة',
                    expertise: ['القلق', 'الاكتئاب', 'العلاج الأسري'],
                    rating: 4.9,
                    sessions: 320,
                    available: true,
                    availabilityText: 'متاحة اليوم',
                    bio: 'أخصائية علاج نفسي مع أكثر من 15 سنة خبرة في العلاج الفردي والعائلي. حاصلة على دكتوراه في علم النفس الإكلينيكي من جامعة الملك سعود، ومعتمدة من الهيئة السعودية للتخصصات الصحية. تتخصص في علاج القلق، الاكتئاب، وإدارة الضغوط.',
                    approach: 'أعمل من منظور العلاج المعرفي السلوكي (CBT) مع دمج عناصر من العلاج القائم على القبول والالتزام (ACT). أركز على بناء علاقة علاجية قائمة على الثقة والتعاون، وأؤمن بأن كل شخص لديه القدرة على التغيير والنمو.',
                    for: ['البالغين الذين يعانون من القلق أو الاكتئاب', 'الأشخاص الذين يواجهون صعوبات في العلاقات', 'من يبحثون عن تطوير الذات وبناء المرونة النفسية', 'الأفراد الذين يمرون بفترات انتقالية في الحياة']
                },
                {
                    id: 'khaled',
                    name: 'د. خالد الحربي',
                    title: 'أخصائي علاج القلق والاكتئاب',
                    experience: '١٢ سنة خبرة',
                    expertise: ['القلق', 'الاكتئاب', 'إدارة الضغوط'],
                    rating: 4.8,
                    sessions: 280,
                    available: true,
                    availabilityText: 'متاح اليوم',
                    bio: 'أخصائي علاج القلق والاكتئاب مع 12 سنة خبرة. حاصل على ماجستير في علم النفس الإكلينيكي ومتخصص في العلاج المعرفي السلوكي. عضو في الجمعية السعودية للطب النفسي.',
                    approach: 'أستخدم العلاج المعرفي السلوكي بشكل أساسي مع التركيز على المهارات العملية التي يمكن تطبيقها في الحياة اليومية. أؤمن بأن العلاج النفسي يجب أن يكون تجربة تمكين وتعليم.',
                    for: ['الذين يعانون من نوبات الهلع أو القلق العام', 'من يعانون من اكتئاب خفيف إلى متوسط', 'الأشخاص الذين يواجهون ضغوط العمل أو الدراسة', 'من يبحثون عن أدوات عملية للتعامل مع المشاعر']
                },
                {
                    id: 'fatima',
                    name: 'د. فاطمة الزهراني',
                    title: 'أخصائية استشارات زواج وأسرة',
                    experience: '١٠ سنوات خبرة',
                    expertise: ['العلاقات الزوجية', 'العلاج الأسري', 'التواصل'],
                    rating: 4.7,
                    sessions: 190,
                    available: false,
                    availabilityText: 'متاحة خلال يومين',
                    bio: 'أخصائية استشارات زواج وأسرة مع 10 سنوات خبرة. متخصصة في العلاج الأسري والزوجي، حاصلة على شهادة معتمدة في العلاج الزوجي من مركز متخصص.',
                    approach: 'أعمل من منظور العلاج المنظومي الذي ينظر إلى الفرد في سياق علاقاته. أركز على تحسين أنماط التواصل وحل النزاعات بشكل بنّاء.',
                    for: ['الأزواج الذين يواجهون صعوبات في التواصل', 'العائلات التي تمر بأزمات', 'من يخططون للزواج ويريدون الاستعداد النفسي', 'الأفراد الذين يعانون من صعوبات في العلاقات الاجتماعية']
                }
            ];
            
            // Load specialists for main section
            specialists.forEach(specialist => {
                const specialistCard = createSpecialistCard(specialist, false);
                specialistsGrid.appendChild(specialistCard);
                
                // Also create for booking section
                const bookingSpecialistCard = createSpecialistCard(specialist, true);
                bookingSpecialists.appendChild(bookingSpecialistCard);
            });
        }
        
        function createSpecialistCard(specialist, forBooking = false) {
            const card = document.createElement('div');
            card.className = 'specialist-card';
            card.setAttribute('data-specialist', specialist.id);
            
            card.innerHTML = `
                <div class="specialist-header">
                    <div class="specialist-avatar">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div class="specialist-rating">
                        <i class="fas fa-star"></i>
                        <span>${specialist.rating}</span>
                    </div>
                    <div class="specialist-sessions">
                        <i class="fas fa-comments"></i>
                        <span>${specialist.sessions}+ جلسة</span>
                    </div>
                </div>
                <div class="specialist-body">
                    <h3 class="specialist-name">${specialist.name}</h3>
                    <div class="specialist-title">${specialist.title}</div>
                    <div class="specialist-meta">
                        <span><i class="fas fa-briefcase"></i> ${specialist.experience}</span>
                        <div class="availability">
                            <i class="fas fa-circle ${specialist.available ? 'available' : ''}"></i>
                            <span>${specialist.availabilityText}</span>
                        </div>
                    </div>
                    <div class="specialist-expertise">
                        ${specialist.expertise.map(tag => `<span class="expertise-tag">${tag}</span>`).join('')}
                    </div>
            `;
            
            if (forBooking) {
                const selectBtn = document.createElement('button');
                selectBtn.className = 'btn btn-primary';
                selectBtn.style.width = '100%';
                selectBtn.innerHTML = '<i class="fas fa-user-check"></i> اختر هذا الأخصائي';
                selectBtn.addEventListener('click', () => {
                    selectSpecialistForBooking(specialist);
                });
                
                card.appendChild(selectBtn);
            } else {
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'specialist-actions';
                
                const profileBtn = document.createElement('button');
                profileBtn.className = 'btn-profile';
                profileBtn.innerHTML = '<i class="fas fa-user-circle"></i> شوف نبذة قصيرة';
                profileBtn.addEventListener('click', () => {
                    openSpecialistModal(specialist);
                });
                
                const bookBtn = document.createElement('button');
                bookBtn.className = 'btn btn-primary';
                bookBtn.innerHTML = '<i class="fas fa-calendar-check"></i> احجز جلستك';
                bookBtn.addEventListener('click', () => {
                    selectSpecialistForBooking(specialist);
                    document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
                });
                
                actionsDiv.appendChild(profileBtn);
                actionsDiv.appendChild(bookBtn);
                card.appendChild(actionsDiv);
            }
            
            return card;
        }
        
        // ==================== SPECIALIST MODAL ====================
        function openSpecialistModal(specialist) {
            document.getElementById('modalSpecialistName').textContent = specialist.name;
            document.getElementById('modalBio').textContent = specialist.bio;
            document.getElementById('modalApproach').textContent = specialist.approach;
            
            // Set "for whom" list
            const forItems = document.querySelectorAll('#specialistModal ul li');
            specialist.for.forEach((item, index) => {
                if (forItems[index]) {
                    forItems[index].textContent = item;
                }
            });
            
            document.getElementById('specialistModal').classList.add('active');
        }
        
        document.getElementById('modalClose').addEventListener('click', () => {
            document.getElementById('specialistModal').classList.remove('active');
        });
        
        // Close modal when clicking outside
        document.getElementById('specialistModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('specialistModal')) {
                document.getElementById('specialistModal').classList.remove('active');
            }
        });
        
        // ==================== BOOKING SYSTEM ====================
        let bookingData = {
            service: null,
            specialist: null,
            date: null,
            time: null
        };
        
        function selectServiceForBooking(service) {
            bookingData.service = service;
            
            // Update UI
            document.querySelectorAll('#bookingServices .service-card').forEach(card => {
                card.classList.remove('highlighted');
            });
            document.querySelector(`#bookingServices .service-card[data-service="${service.id}"]`).classList.add('highlighted');
            
            // Go to next step
            goToStep(2);
            
            showToast(`تم اختيار خدمة "${service.name}"`, 'success');
        }
        
        function selectSpecialistForBooking(specialist) {
            bookingData.specialist = specialist;
            
            // Update UI
            document.querySelectorAll('#bookingSpecialists .specialist-card').forEach(card => {
                card.classList.remove('highlighted');
            });
            document.querySelector(`#bookingSpecialists .specialist-card[data-specialist="${specialist.id}"]`).classList.add('highlighted');
            
            // Go to next step
            goToStep(3);
            
            showToast(`تم اختيار الأخصائي "${specialist.name}"`, 'success');
        }
        
        // Stepper navigation
        function goToStep(stepNumber) {
            // Update stepper UI
            document.querySelectorAll('.stepper-step').forEach((step, index) => {
                const stepIndex = index + 1;
                
                if (stepIndex < stepNumber) {
                    step.classList.remove('active');
                    step.classList.add('completed');
                } else if (stepIndex === stepNumber) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active');
                    step.classList.remove('completed');
                }
            });
            
            // Update progress bar
            const progressWidth = ((stepNumber - 1) / 3) * 100;
            document.getElementById('stepperProgress').style.width = `${progressWidth}%`;
            
            // Show/hide steps
            document.querySelectorAll('.booking-step').forEach((step, index) => {
                const stepIndex = index + 1;
                
                if (stepIndex === stepNumber) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }
        
        // Initialize booking steps
        document.querySelectorAll('.booking-step').forEach((step, index) => {
            if (index === 0) {
                step.classList.add('active');
            } else {
                step.classList.remove('active');
            }
        });
        
        // Booking step navigation buttons
        document.getElementById('nextToStep2').addEventListener('click', () => {
            if (!bookingData.service) {
                showToast('يرجى اختيار خدمة أولاً', 'info');
                return;
            }
            goToStep(2);
        });
        
        document.getElementById('backToStep1').addEventListener('click', () => goToStep(1));
        
        document.getElementById('nextToStep3').addEventListener('click', () => {
            if (!bookingData.specialist) {
                showToast('يرجى اختيار أخصائي أولاً', 'info');
                return;
            }
            goToStep(3);
        });
        
        document.getElementById('backToStep2').addEventListener('click', () => goToStep(2));
        
        document.getElementById('nextToStep4').addEventListener('click', () => {
            if (!bookingData.date || !bookingData.time) {
                showToast('يرجى اختيار تاريخ ووقت أولاً', 'info');
                return;
            }
            goToStep(4);
            updateBookingConfirmation();
        });
        
        document.getElementById('backToStep3').addEventListener('click', () => goToStep(3));
        
        // Initialize calendar
        const bookingCalendar = flatpickr("#bookingCalendar", {
            locale: "ar",
            dateFormat: "Y-m-d",
            minDate: "today",
            defaultDate: "today",
            onChange: function(selectedDates, dateStr) {
                bookingData.date = formatArabicDate(dateStr);
                generateTimeSlots();
            }
        });
        
        function formatArabicDate(dateStr) {
            const date = new Date(dateStr);
            const options = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            return date.toLocaleDateString('ar-SA', options);
        }
        
        function generateTimeSlots() {
            const timeSlotsContainer = document.getElementById('timeSlots');
            timeSlotsContainer.innerHTML = '';
            
            // Create time slots with some disabled for demo
            const slots = [
                { time: '09:00 ص', available: true },
                { time: '10:00 ص', available: true },
                { time: '11:00 ص', available: false },
                { time: '12:00 م', available: true },
                { time: '01:00 م', available: true },
                { time: '02:00 م', available: false },
                { time: '03:00 م', available: true },
                { time: '04:00 م', available: true },
                { time: '05:00 م', available: false },
                { time: '06:00 م', available: true },
                { time: '07:00 م', available: true },
                { time: '08:00 م', available: true }
            ];
            
            slots.forEach(slot => {
                const slotElement = document.createElement('div');
                slotElement.className = `time-slot ${slot.available ? '' : 'disabled'}`;
                slotElement.textContent = slot.time;
                
                if (slot.available) {
                    slotElement.addEventListener('click', function() {
                        document.querySelectorAll('.time-slot:not(.disabled)').forEach(s => {
                            s.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        bookingData.time = this.textContent;
                    });
                }
                
                timeSlotsContainer.appendChild(slotElement);
            });
        }
        
        // Initialize time slots
        generateTimeSlots();
        
        function updateBookingConfirmation() {
            if (bookingData.service) {
                document.getElementById('confirmService').textContent = bookingData.service.name;
                document.getElementById('confirmPrice').textContent = bookingData.service.price;
            }
            
            if (bookingData.specialist) {
                document.getElementById('confirmSpecialist').textContent = bookingData.specialist.name;
            }
            
            if (bookingData.date) {
                document.getElementById('confirmDate').textContent = bookingData.date;
            }
            
            if (bookingData.time) {
                document.getElementById('confirmTime').textContent = bookingData.time;
            }
        }
        
        // Confirm booking button
        document.getElementById('confirmBookingBtn').addEventListener('click', function() {
            if (!bookingData.service || !bookingData.specialist || !bookingData.date || !bookingData.time) {
                showToast('يرجى إكمال جميع معلومات الحجز', 'info');
                return;
            }
            
            // Show success message
            showToast('تم حجز الجلسة بنجاح!', 'success');
            
            // Reset booking data after a delay
            setTimeout(() => {
                bookingData = {
                    service: null,
                    specialist: null,
                    date: null,
                    time: null
                };
                
                // Reset UI
                document.querySelectorAll('.service-card, .specialist-card, .time-slot').forEach(el => {
                    el.classList.remove('selected', 'highlighted');
                });
                
                // Go back to step 1
                goToStep(1);
                
                // Reset calendar
                bookingCalendar.setDate('today');
                generateTimeSlots();
                
            }, 3000);
        });
        
        // ==================== TOAST MESSAGES ====================
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            
            // Set toast content based on type
            if (type === 'success') {
                document.getElementById('toastTitle').textContent = 'تم بنجاح!';
                document.getElementById('toastIcon').innerHTML = '<i class="fas fa-check"></i>';
            } else if (type === 'info') {
                document.getElementById('toastTitle').textContent = 'ملاحظة';
                document.getElementById('toastIcon').innerHTML = '<i class="fas fa-info-circle"></i>';
            }
            
            document.getElementById('toastMessage').textContent = message;
            
            // Show toast
            toast.classList.add('show');
            
            // Hide toast after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // ==================== INITIALIZE ON LOAD ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Load services and specialists
            loadServices();
            loadSpecialists();
            
            // Set initial booking date
            bookingData.date = formatArabicDate(new Date().toISOString().split('T')[0]);
            
            // Initialize stepper progress
            document.getElementById('stepperProgress').style.width = '0%';
        });
    </script>
</body>
</html>
